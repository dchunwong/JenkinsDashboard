$(document).ready(function(){var e=$("#jobselect"),t=$("#buildselect"),l=$("#testselect"),s=window.innerWidth>768;e.select2({placeholder:"Select a Job",dropdownAutoWidth:s}),t.select2({placeholder:"Select a Build",dropdownAutoWidth:s,allowClear:!0,ajax:{url:function(){return"/api/job/"+e.val()+"/builds"},dataType:"json",data:function(e){return{q:e}},results:function(e){temp={results:[]};for(var t=0;t<e.results.length;t++)build=e.results[t].toString(),temp.results.push({id:build,text:build});return temp}}}),l.select2({placeholder:"Select a Test",dropdownAutoWidth:s,allowClear:!0,ajax:{url:function(){return"/api/job/"+e.val()+"/tests"},dataType:"json",data:function(e){return{q:e}},results:function(e){temp={results:[]};for(var t=0;t<e.results.length;t++)temp.results.push({id:e.results[t],text:e.results[t]});return temp}}}),job_index=document.URL.split("/").indexOf("job"),-1!=job_index&&e.select2("val",document.URL.split("/")[job_index+1]);var n=function(){l.select2("val",""),t.select2("val",""),""==e.val()?(l.select2("enable",!1),t.select2("enable",!1)):(l.select2("enable",!0),t.select2("enable",!0))};n(),e.on("change",n),t.on("change",function(){disableOther("#buildselect","#testselect")}),l.on("change",function(){disableOther("#testselect","#buildselect")}),$("#search").keypress(function(e){"Enter"==e.key&&$("#search").submit()})});var disableOther=function(e,t){""!=$(e).val()?($(t).select2("val",""),$(t).select2("enable",!1)):$(t).select2("enable",!0)};
